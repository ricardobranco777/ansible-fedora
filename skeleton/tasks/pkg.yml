---
- name: Install packages
  dnf:
    name:
      - aria2
      - avahi-tools
      - bcc
      - bcc-doc
      - bind-utils
      - blueman-nautilus
      - bmake
      - bsdcat
      - bsdtar
      - btrfs-progs
      - buildah
      - captree
      - chromium
      - cifs-utils
      - clang
      - cmake
      - curl
      - dejavu-fonts-all
      - distribution-gpg-keys
      - e2fsprogs
      - exfatprogs
      - fakeroot
      - firefox
      - gcc
      - gdisk
      - gh
      - git
      - glab
      - glibc-devel
      - glibc-static
      - glibc-utils
      - gnome-extensions-app
      - gnome-shell-extension-appindicator
      - gnome-shell-extension-apps-menu
      - gnome-shell-extension-gsconnect
      - gnome-shell-extension-launch-new-instance
      - gnome-shell-extension-places-menu
      - gnome-shell-extension-window-list
      - gnome-themes-extra
      - gnome-tweaks
      - gnutls-utils
      - golangci-lint
      - httpd-tools
      - ImageMagick
      - inotify-tools
      - jetbrains-mono-fonts-all
      - jq
      - kata-containers
      - keepassxc
      - kernel-modules-extra
      - lbzip2
      - ldns-utils
      - libarchive-devel
      - libbsd-devel
      - libcap-ng-utils
      - libcgroup-tools
      - libva-utils
      - libvirt-client
      - lldb
      - llvm
      - lsscsi
      - lshw
      - lsof
      - ltrace
      - lynx
      - make
      - mawk
      - mandoc
      - mc
      - mtr
      - moreutils
      - nautilus-gsconnect
      - nawk
      - netcat
      - net-tools
      - nss-tools
      - oci-seccomp-bpf-hook
      - patch
      - pbzip2
      - perltidy
      - pigz
      - podman
      - podman-remote
      - openssl
      - procinfo
      - python3-devel
      - python3-dnf-plugin-versionlock
      - python3-gpg
      - python3-virtualenv
      - qemu-tools
      - rclone
      - rpcbind
      - rpmconf
      - rsync
      - ruff
      - setools-console
      - sg3_utils
      - sharutils
      - ShellCheck
      - skopeo
      - smartmontools
      - socat
      - strace
      - subversion
      - sysfsutils
      - tcpdump
      - terminator
      - thunderbird
      - tilix
      - tmux
      - tnftp
      - traceroute
      - transmission
      - unzip
      - vim
      - virt-manager
      - virt-viewer
      - xfsprogs
      - xsel
      - wget
      - wodim
      - xdotool
      - xdpyinfo
      - xorg-x11-server-Xvfb
      - xrandr
      - yq
      - zip
      - zstd
    state: present

- name: Install package groups
  dnf:
    name:
      - '@c-development'
      - '@container-management'
      - '@development-tools'
      - '@virtualization'
    state: present

- name: Uninstall packages
  dnf:
    name:
      - abrt
      - abrt-libs
      - bash-color-prompt
      - bluez-cups
      - braille-printer-app
      - cups
      - cups-browsed
      - cups-filters*
      - fprintd
      - fprintd-pam
      - gnome-abrt
      - gnome-user-share
      - gutenprint
      - gutenprint-cups
      - hplip
      - libppd
      - mediawriter
      - open-vm-tools*
      - passim
      - rhythmbox
      - virtualbox-guest-additions
    state: absent

- name: Autoremove unneeded packages installed as dependencies
  dnf:
    autoremove: yes
